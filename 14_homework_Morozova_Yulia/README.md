**<div align="center"><h2>Морозова Юлия, OTUS, группа Postgre-DBA-2023-11</h2></div>**

**<div align=center><h3>Домашнее задание №14 по теме:</h3></div>**
**<div align=center><h3>«Хранимые функции и процедуры.»</h3></div>**

***
**<h3>Домашнее задание:
<br>Триггеры, поддержка заполнения витрин</h3>**

**<h3>Цель:
<br> Научиться разрабатывать DML-триггеры и событийные триггеры.
<br> Создать триггер для поддержки витрины в актуальном состоянии.</h3>**

***
Описание/Пошаговая инструкция выполнения домашнего задания:

Скрипт и развернутое описание задачи – в ЛК (файл hw_triggers.sql) или по ссылке: https://disk.yandex.ru/d/l70AvknAepIJXQ

В БД создана структура, описывающая товары (таблица goods) и продажи (таблица sales).

Есть запрос для генерации отчета – сумма продаж по каждому товару.

БД была денормализована, создана таблица (витрина), структура которой повторяет структуру отчета.

Создать триггер на таблице продаж, для поддержки данных в витрине в актуальном состоянии (вычисляющий при каждой продаже сумму и записывающий её в витрину)

Подсказка: не забыть, что кроме INSERT есть еще UPDATE и DELETE.

**Выполнение:**

**Подготовительные работы**



<br/>

>**1. Реализовать прямое соединение двух или более таблиц.**




<br/>

>**2. Реализовать левостороннее (или правостороннее) соединение двух или более таблиц.**



<br/>

>**3. Реализовать кросс соединение двух или более таблиц.**



<br/>

>**4. Реализовать полное соединение двух или более таблиц.**


<br/>

>**5. Реализовать запрос, в котором будут использованы разные типы соединений.**



<br/>

***
**<h3> Задание со * :**
<br>Чем такая схема (витрина+триггер) предпочтительнее отчета, создаваемого "по требованию" (кроме производительности)?
<br> Подсказка: В реальной жизни возможны изменения цен. 
</h3>

***

**Выполнение:**

**Метрика: длительность текущих активных транзакций и запросов.**



***





